{"version":3,"sources":["Components/UI/Modal/Mymoda.module.css","Components/UI/MyButton.module.css","Components/UI/MyInput.module.css","Components/Context/Context.js","Components/UI/MyButton.jsx","pages/About.jsx","Components/UI/MyInput.jsx","pages/Login.jsx","pages/Nothing.jsx","API/PostServise.jsx","Components/Item/PostItem.jsx","Components/Item/PostList.jsx","Components/UI/Modal/MyModal.jsx","utils/page.js","Components/UI/Pagination/Pagination.jsx","hook/useFetching.jsx","hook/usePosts.jsx","Components/UI/MySelect.jsx","Components/Filter/PostFilter.jsx","Components/Form/PostFotm.jsx","pages/Post.jsx","hook/useObserver.js","Components/PostPages/PostPages.jsx","Components/AppRouter.jsx","Components/UI/Navbar.jsx/Navbar.jsx","App.js","index.js"],"names":["module","exports","MyContext","createContext","MyButton","children","props","className","classes","myBtn","About","MyInput","React","forwardRef","ref","myInput","Login","useContext","setISAUTH","isAuth","onSubmit","e","preventDefault","localStorage","setItem","type","placholder","Nothing","PostService","limit","page","axios","get","params","_limit","_page","response","id","PostItem","navigate","useNavigate","number","post","title","body","onClick","ButtonDelet","PostList","posts","length","style","textAlign","TransitionGroup","map","index","CSSTransition","timeout","classNames","MyModal","visible","setVisible","rootClasses","cl","myModal","push","active","join","background","myModalContent","stopPropagation","getPageCount","totalCount","Math","ceil","Pagination","totalPage","changePage","pageArray","totalPages","result","i","getPagesArray","p","useFetching","callback","useState","isLoading","setISLOADING","error","setERRO","a","message","usePosts","sort","query","mySorted","useMemo","b","localeCompare","useSortedPosts","filter","el","includes","MySelect","option","defaultValue","value","onChange","target","disabled","name","PostFilter","setFilter","placeholder","seletcetSort","PostFotm","create","setPost","newPost","Date","now","Post","setPosts","modalof","setMODALOF","setTOTALCOUNT","setPAGE","lastElement","useRef","getAll","data","headers","Fetching","canload","observer","useEffect","current","disconnect","IntersectionObserver","entries","isIntersecting","observe","useObserver","sortedAndSearcedPosts","marginTop","margin","height","PostPages","useParams","setPOST","comments","setCOMMENTS","console","log","getById","fetching","getComentsByPostId","fetchingComents","com","email","AppRouter","path","element","Navbar","removeItem","to","App","getItem","Provider","ReactDOM","render","basename","document","getElementById"],"mappings":"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","file":"static/js/main.828ca84b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"myModal\":\"Mymoda_myModal__2p7i8\",\"myModalContent\":\"Mymoda_myModalContent__ceEqN\",\"active\":\"Mymoda_active__1c-2L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myBtn\":\"MyButton_myBtn__3fHAj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myInput\":\"MyInput_myInput__3mFUH\"};","import { createContext } from \"react\";\r\n\r\n\r\nexport const MyContext = createContext(null)","import React from 'react'\r\nimport classes from './MyButton.module.css'\r\nexport const MyButton = ({children, ...props}) => {\r\n  return (\r\n    <button {...props}  className={classes.myBtn} >\r\n      {children}\r\n    </button>\r\n  )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { MyContext } from '../Components/Context/Context'\r\nimport { MyButton } from '../Components/UI/MyButton'\r\n\r\nexport const About = () => {\r\n  return (\r\n    <div className='about'>\r\n      На этом сайте реализация подгрузки постов из\r\n      https://jsonplaceholder.typicode.com/ свайпы при добавлении и\r\n      удалении, автоматическая загрузка постов при опускании вниз! навигациия и фейковая регистрация. \r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport classes from './MyInput.module.css'\r\n\r\nexport const MyInput = React.forwardRef((props, ref) => {\r\n  return (\r\n    <input ref={ref} className={classes.myInput} {...props} />\r\n  )\r\n})\r\n","import React, { useContext } from 'react'\r\nimport { MyContext } from '../Components/Context/Context'\r\nimport { MyButton } from '../Components/UI/MyButton'\r\nimport { MyInput } from '../Components/UI/MyInput'\r\n\r\nexport const Login = () => {\r\n  const { setISAUTH, isAuth } = useContext(MyContext)\r\n  const login = (e) => {\r\n    e.preventDefault()\r\n    setISAUTH(!isAuth)\r\n    localStorage.setItem('auth', 'true')\r\n  }\r\n  return (\r\n    <div>\r\n      <h1>Login</h1>\r\n      <form onSubmit={login}>\r\n        <MyInput type='text' placholder='login' />\r\n        <MyInput type='password' placholder='password' />\r\n        <MyButton>send</MyButton>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport const Nothing = () => {\r\n  return (\r\n    <div>\r\n      Ничего не найдено!\r\n    </div>\r\n  )\r\n}\r\n","import axios from 'axios'\r\n\r\nexport default class PostService {\r\n  \r\n  static async getAll(limit = 10, page = 1) {\r\n    const response = await axios.get(\r\n      `https://jsonplaceholder.typicode.com/posts`,\r\n      {\r\n        params: {\r\n          _limit: limit,\r\n          _page: page,\r\n        },\r\n      }\r\n    )\r\n    return response\r\n  }\r\n\r\n  static async getById(id) {\r\n    const response = await axios.get(\r\n      `https://jsonplaceholder.typicode.com/posts/` + id,\r\n      \r\n    )\r\n    return response\r\n  }\r\n\r\n  static async getComentsByPostId(id) {\r\n    const response = await axios.get(\r\n      `https://jsonplaceholder.typicode.com/posts/${id}/comments`, \r\n    )\r\n    return response\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { MyButton } from '../UI/MyButton'\r\n\r\nexport const PostItem = ({id, ...props}) => {\r\n  const navigate = useNavigate()\r\n  return (\r\n    <div>\r\n      <div className='post'>\r\n        <div className='post__content'>\r\n          <strong>\r\n            {props.number}.{props.post.title}\r\n          </strong>\r\n          <div>{props.post.body}</div>\r\n        </div>\r\n        <div className='post__btns'>\r\n          <MyButton\r\n          onClick={() => navigate(`/posts/${props.post.id}`)}\r\n          >open</MyButton>\r\n          <MyButton onClick={() => props.ButtonDelet(props.post.id)} >delet</MyButton>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group'\r\nimport { PostItem } from './PostItem'\r\n\r\nexport const PostList = ({ posts, title, ButtonDelet }) => {\r\n  if (!posts.length) {\r\n    return <h1 style={{ textAlign: 'center' }}>Посты не найдены</h1>\r\n  }\r\n  return (\r\n    <div>\r\n      <h1 style={{ textAlign: 'center' }}>{title}</h1>\r\n      <TransitionGroup>\r\n        {posts.map((post, index) => (\r\n          <CSSTransition key={post.id} timeout={200} classNames='post'>\r\n            <PostItem number={post.id} post={post} ButtonDelet={ButtonDelet} />\r\n           </CSSTransition>\r\n        ))}\r\n      </TransitionGroup>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport cl from './Mymoda.module.css'\r\nexport const MyModal = ({ visible, setVisible, children }) => {\r\n  const rootClasses = [cl.myModal]\r\n  if (visible) {\r\n    rootClasses.push(cl.active)\r\n  }\r\n  return (\r\n    <div className={rootClasses.join(' ')} onClick={() => setVisible(!visible)}>\r\n      <div\r\n        style={{ textAlign: 'right', background: 'black' }}\r\n        className={cl.myModalContent}\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        <div onClick={() => setVisible(!visible)}>&#215;</div>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","export const getPageCount = (totalCount, limit) => {\r\n  return Math.ceil(totalCount / limit)\r\n}\r\n\r\nexport const getPagesArray = (totalPages) => {\r\n  let result = []\r\n  for (let i = 0; i < totalPages; i++) {\r\n    result.push(i + 1)\r\n  }\r\n  return result\r\n}\r\n","import React from 'react'\r\nimport { getPagesArray } from '../../../utils/page'\r\n\r\nexport const Pagination = ({ totalPage, page, changePage }) => {\r\n  let pageArray = getPagesArray(totalPage)\r\n\r\n  return (\r\n    <div className='page__wraper'>\r\n      {pageArray.map((p) => (\r\n        <span\r\n          className={page === p ? 'page page__active' :'page'}\r\n          onClick={() => changePage(p)}\r\n          key={p}\r\n        >\r\n          {p}\r\n        </span>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\n\r\nexport const useFetching = (callback) => {\r\n  const [isLoading, setISLOADING] = useState(false)\r\n  const [error, setERRO] = useState('')\r\n\r\n  const fetching = async () => {\r\n    try {\r\n      setISLOADING(true)\r\n      await callback()\r\n    } catch (error) {\r\n      setERRO(error.message)\r\n    } finally {\r\n      setISLOADING(false)\r\n    }\r\n  }\r\n  return [fetching, isLoading, error]\r\n}\r\n","import { useMemo } from 'react/cjs/react.development'\r\n\r\nexport const useSortedPosts = (posts, sort) => {\r\n  const sortedPosts = useMemo(() => {\r\n    if (sort.length) {\r\n      return [...posts].sort((a, b) => a[sort].localeCompare(b[sort]))\r\n    }\r\n    return posts\r\n  }, [posts, sort])\r\n  return sortedPosts\r\n}\r\n\r\nexport const usePosts = (posts, sort, query) => {\r\n  const mySorted = useSortedPosts(posts, sort)\r\n  const sortedFilter = useMemo(() => {\r\n    return mySorted.filter((el) => el.title.includes(query))\r\n  }, [mySorted, query])\r\n  return sortedFilter\r\n}\r\n","import React from 'react'\r\n\r\nexport const MySelect = ({ option, defaultValue, value, onChange }) => {\r\n  return (\r\n    <select value={value} onChange={(e) => onChange(e.target.value)}>\r\n      <option disabled value=''>\r\n        {defaultValue}\r\n      </option>\r\n      {option.map((option) => (\r\n        <option key={option.value} value={option.value}>\r\n          {option.name}\r\n        </option>\r\n      ))}\r\n    </select>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { MyInput } from '../UI/MyInput'\r\nimport { MySelect } from '../UI/MySelect'\r\n\r\n\r\nexport const PostFilter = ({ filter, setFilter }) => {\r\n  return (\r\n    <div>\r\n      <MyInput\r\n        value={filter.query}\r\n        onChange={(e) => setFilter({...filter, query: e.target.value })}\r\n        placeholder='поиск'\r\n      />\r\n      <MySelect\r\n        defaultValue='сортировка по'\r\n        value={filter.sort}\r\n        onChange={seletcetSort => setFilter({...filter, sort: seletcetSort})}\r\n        option={[\r\n          { value: 'title', name: 'По названиею' },\r\n          { value: 'body', name: 'По описанию' },\r\n        ]}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { MyButton } from '../UI/MyButton'\r\nimport { MyInput } from '../UI/MyInput'\r\n\r\nexport const PostFotm = ({ create }) => {\r\n  const [post, setPost] = useState({ title: '', body: '' })\r\n  const AddPosts = (e) => {\r\n    e.preventDefault()\r\n    const newPost = {\r\n      ...post,\r\n      id: Date.now(),\r\n    }\r\n    create(newPost)\r\n    setPost({ title: '', body: '' })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form>\r\n        <MyInput\r\n          type='text'\r\n          placeholder='Название'\r\n          value={post.title}\r\n          onChange={(e) => setPost({ ...post, title: e.target.value })}\r\n        />\r\n        <MyInput\r\n          type='text'\r\n          placeholder='Описание'\r\n          value={post.body}\r\n          onChange={(e) => setPost({ ...post, body: e.target.value })}\r\n        />\r\n        <MyButton onClick={AddPosts}>отправить</MyButton>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n","import { useEffect, useRef, useState } from 'react'\r\nimport PostService from '../API/PostServise'\r\nimport { PostList } from '../Components/Item/PostList'\r\nimport { MyModal } from '../Components/UI/Modal/MyModal'\r\nimport { Pagination } from '../Components/UI/Pagination/Pagination'\r\nimport { useFetching } from '../hook/useFetching'\r\nimport { usePosts } from '../hook/usePosts'\r\nimport '../styles/App.css'\r\nimport { getPageCount } from '../utils/page'\r\nimport { PostFilter } from '../Components/Filter/PostFilter'\r\nimport { PostFotm } from '../Components/Form/PostFotm'\r\nimport { useObserver } from '../hook/useObserver'\r\n\r\nexport const Post = () => {\r\n  const [posts, setPosts] = useState([])\r\n  const [modalof, setMODALOF] = useState(false)\r\n\r\n  const [totalPage, setTOTALCOUNT] = useState(0)\r\n  const [limit, setLIMIT] = useState(10)\r\n  const [page, setPAGE] = useState(0)\r\n  const lastElement = useRef()\r\n\r\n  \r\n  const [Fetching, isLoading, error] = useFetching(async () => {\r\n    const response = await PostService.getAll(limit, page)\r\n    setPosts([...posts, ...response.data])\r\n    const totalCount = response.headers['x-total-count']\r\n    setTOTALCOUNT(getPageCount(totalCount, limit))\r\n  })\r\n  \r\n  useObserver(lastElement, page < totalPage, isLoading, () => {\r\n    setPAGE(page + 1)\r\n  })\r\n\r\n\r\n  const changePage = (page) => {\r\n    setPAGE(page)\r\n  }\r\n\r\n  const [filter, setFilter] = useState({ sort: '', query: '' })\r\n\r\n  const sortedAndSearcedPosts = usePosts(posts, filter.sort, filter.query)\r\n  const createPost = (newPost) => {\r\n    setPosts([newPost, ...posts])\r\n    setMODALOF(!modalof)\r\n  }\r\n  const ButtonDelet = (id) => {\r\n    setPosts(posts.filter((el) => el.id !== id))\r\n  }\r\n  useEffect(() => {\r\n    Fetching()\r\n  }, [page])\r\n\r\n  return (\r\n    <div className='App'>\r\n      <button\r\n        style={{ marginTop: '20px' }}\r\n        onClick={() => setMODALOF(!modalof)}\r\n      >\r\n        создать пост\r\n      </button>\r\n      <MyModal visible={modalof} setVisible={setMODALOF}>\r\n        <PostFotm create={createPost} />\r\n      </MyModal>\r\n\r\n      <hr style={{ margin: '15px 0' }} />\r\n      <PostFilter filter={filter} setFilter={setFilter} />\r\n      {error && <h1>oштбка: {error}</h1>}\r\n      <PostList\r\n        posts={sortedAndSearcedPosts}\r\n        title='Список постов'\r\n        ButtonDelet={ButtonDelet}\r\n      />\r\n      <div ref={lastElement} style={{ height: 20, background: 'red' }} />\r\n      <div style={{ marginTop: 10 }}>\r\n        <Pagination page={page} changePage={changePage} totalPage={totalPage} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { useEffect, useRef } from \"react\"\r\n\r\nexport const useObserver = (ref, canload, isLoading, callback ) => {\r\n  const observer = useRef()\r\n  useEffect(() => {\r\n    if(observer.current) observer.current.disconnect()\r\n    var cd = function (entries, observer) {\r\n      if (entries[0].isIntersecting && canload ) {\r\n        callback()\r\n      }\r\n    }\r\n    observer.current = new IntersectionObserver(cd)\r\n    observer.current.observe(ref.current)\r\n  }, [isLoading])\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport PostService from '../../API/PostServise'\r\nimport { useFetching } from '../../hook/useFetching'\r\n\r\nexport const PostPages = () => {\r\n  const params = useParams()\r\n  const [post, setPOST] = useState([])\r\n  const [comments, setCOMMENTS] = useState([])\r\n  console.log(comments)\r\n  const [fetching, isLoading, error] = useFetching(async () => {\r\n    const response = await PostService.getById(params.id)\r\n    setPOST(response.data)\r\n  })\r\n  const [fetchingComents] = useFetching(async () => {\r\n    const response = await PostService.getComentsByPostId(params.id)\r\n    console.log(response.data)\r\n    setCOMMENTS(response.data)\r\n  })\r\n\r\n  useEffect(() => {\r\n    fetching()\r\n    fetchingComents()\r\n  }, [])\r\n  return (\r\n    <div className='post_pages' >\r\n      {!isLoading ? (\r\n        <h3>\r\n          {post.id} - {post.title}\r\n        </h3>\r\n      ) : (\r\n        <h1>Ничего нет</h1>\r\n      )}\r\n      <h3>\r\n        Comments:{' '}\r\n        {comments.map((com) => (\r\n          <div style={{ marginTop: 15 }}>\r\n            <h6> {com.email}</h6>\r\n            <div>{com.body}</div>\r\n          </div>\r\n        ))}\r\n      </h3>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport { Route, Routes } from 'react-router-dom'\r\nimport { About } from '../pages/About'\r\nimport { Login } from '../pages/Login'\r\nimport { Nothing } from '../pages/Nothing'\r\nimport { Post } from '../pages/Post'\r\nimport { MyContext } from './Context/Context'\r\nimport { PostPages } from './PostPages/PostPages'\r\n\r\nexport const AppRouter = () => {\r\n  const {setISAUTH, isAuth} = useContext(MyContext)\r\n  return (\r\n    <div>\r\n      <Routes >\r\n        {isAuth ? (\r\n          <>\r\n            <Route  path='/posts' element={<Post />} />\r\n            <Route path='/about' element={<About setISAUTH={setISAUTH} isAuth={isAuth} />} />\r\n            <Route path='/posts/:id' element={<PostPages />} />\r\n            <Route path='*' element={<Nothing />} />\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Route path='/login' element={<Login setISAUTH={setISAUTH} isAuth={isAuth} />} />\r\n            <Route path='/*' element={<Login />} />\r\n          </>\r\n        )}\r\n      </Routes>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { MyContext } from '../../Context/Context'\r\n\r\nexport const Navbar = () => {\r\n  const { setISAUTH, isAuth } = useContext(MyContext)\r\n  const relog = (e) => {\r\n    // e.preventDefault()\r\n    setISAUTH(!isAuth)\r\n    localStorage.removeItem('auth')\r\n  }\r\n  return (\r\n    <div>\r\n      <div className='navbar'>\r\n        <div className='navbar__links'>\r\n          {isAuth ? (\r\n            <button onClick={() => relog()}>Relog</button>\r\n          ) : (\r\n            <button>login</button>\r\n          )}\r\n          <Link to='/about'>o сайте</Link>\r\n          <Link to='/posts'>Посты</Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { useEffect, useState } from 'react';\r\nimport { AppRouter } from './Components/AppRouter'\r\nimport { MyContext } from './Components/Context/Context'\r\nimport { Navbar } from './Components/UI/Navbar.jsx/Navbar'\r\nimport './styles/App.css'\r\n\r\nfunction App() {\r\n const [isAuth, setISAUTH] = useState(false);\r\n \r\n  useEffect(() => {\r\n    if(localStorage.getItem('auth')) {\r\n      setISAUTH(!isAuth)\r\n    }\r\n  },[])\r\n\r\n  return (\r\n    <div>\r\n      <MyContext.Provider value={{\r\n        isAuth,\r\n        setISAUTH\r\n      }} >\r\n        <Navbar />\r\n        <AppRouter />\r\n      </MyContext.Provider>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <BrowserRouter  basename='/learnfundamental' >\r\n   <App/>\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}